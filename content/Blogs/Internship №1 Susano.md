---
title: Internship №1 Susano
tags:
  - Internship
  - CAD
  - "#Csharp/dotNet"
date: 2025-07-04
language: mn
draft:
---
## Танилцуулга

Миний дадлага хийсэн Сусано компани нь AutoCAD, Revit зэрэг **Computer Aided Drawing** төрлийн програм дээр нэмэлт plug-in болон бусад холбогдох tool хэрэгтэй бүтээгдэхүүний хөгжүүлэлтийг япон компаниудаас авч хийдэг. 

Хэрэглэгч амар хялбар байдлаар зурагтай ажиллах боломжийг олгох, гарын ажилгаа шаардсан, олон дахин давтах үйлдлүүдийг автоматжуулах зэрэг нэмэлт үйлдэл үндсэн програмд зориулан бүтээдэг гэсэн үг.

Хөгжүүлэлтийн хэл нь голцуу C#, ямар хөгжүүлэлт хийхээсээ шалтгаалаад янз янз байдаг гэсэн.

## Susano Internship week1

### Даалгавар

Эхний долоо хоногт өгсөн даалгавар бол n×m координатын системд байрлах "x" ширхэг цэгийг дотроо агуулсан хамгийн бага талбайтай тэгш өнцөгтийг зурах даалгавар байсан. ( Windows Forms App ашиглан UI гарган C# хэл дээр гүйцэтгэх )

![image.png](https://i.imgur.com/tjXxazb.png)

1. Үүсгэх цэгийн тоог оруулан random товчийг дарахад picturebox дотор random байршилтай цэгүүдийг дүрслэнэ.
    
2. **minrectangle1** товч: Эргүүлэлт хийхгүй бүх цэгийг дотроо багтаасан боломжит хамгийн бага талбай бүхий тэгш өнцөгтийг олох
    
3. **minrectangel2** товч: Бүх цэгийг дотроо багтаасан боломжит хамгийн бага талбай бүхий тэгш өнцөгтийг дүрслэнэ.
    
4. (**Нэмэлт: minPolygon товч**)бүх цэгийг дотроо багтаасан боломжит хамгийн бага талбай бүхий олон өнцөгтийг олох
    

![image.png](https://i.imgur.com/XebuAYX.png)

---

### Шийдэл

Шинэ (бараг л шинэ өмнө нь Unity сурах гэж үзээд үндсэн бүтцийг нь л мэднэ) хэл дээр, дасал болоогүй технологи ашиглах хэрэг гарсан учир UI аа хэрхэн удирдах, дугуй болон шулууныг зурахад жоохон хүндрэлтэй байсан. UI-аа дүрсэлсний дараа эргүүлэлт хийлгүй тухайн цэгийн олонлогийг багтаасан тэгш өнцөгтийг хялбар олсон. Харин эргүүлээд хамгийн бага талбайтай тэгш өнцөгтийн олох хэцүү байсан. Бодлогын нөхцөлөөс ажиглалт хийхэд дараах зүйлс тодорхой болсон.

#### Ажигласан зүйлс :

- Тэгш өнцөгтийн талууд нь хамгийн захад орших цэгүүдийг дайрсан байдлаар зурагдана.
    
- Ийм учир захын цэгүүдийг олох алгоритм хэрэгтэй.
    
- Тэдгээрийг олсны дараа тэгш өнцөгтийн талуудыг дайрах цэгүүдийг сонгох хэрэгтэй.
    
- Хамгийн бага талбайг олох учир талбайг нь бодох функц хэрэгтэй.
    
- Нийтэд эдгээрийг тооцоолонгоо харьцуулах давталт хэрэгтэй.
    

Дээрх зүйлсийг хайж явахад энэ бодлогын шийдлийг танилцуулсан ﻿[Best Fit Rectangles](http://datagenetics.com/blog/march12014/index.html) гэх нийтлэл олсон. Энэхүү нийтэлд ашиглаж буй арга зам нь ерөнхийдөө :

1. Convex Hull ашиглан хүрээлж буй хамгийн захын цэгүүдийг олох
    
2. Олсон цэгүүдээ цагийн зүүний дагуу ангилах
    
3. Хоёр цэг сонгож аван тэгш өнцөгтийн нэг тал болгох
    
4. Тэр талын уртыг хаших хоёр цэгээр тодорхойлох
    
5. Олсон талаасаа нөгөө захын цэг хүртэл перпендикулиар шулуун татаж нөгөө талыг олох
    
6. Caliper-ын алгоритм ашиглах (тойрон эргэж талбайг нь харьцуулан явсаар тухайн тэгш өнцөгтийг олно.)

---

### Demo

![image.png](https://i.imgur.com/mzPT08w.png)

### Ойлгож сурсан зүйлс

- Convex hull, Caliper's algorithm сурсан
    
- Minimum bounding box олох ямар хэрэгтэй мэдсэн.
    

---

## Susano Internship week2 && week3

### Даалгавар

᠌Дараагийн даалгавар AutoCAD plugin бичих даалгавар байсан. Доорх зурагт харагдаж буй grid-ийн нэг нүд дээр дарахад тухайн нүдийг сонгож авах(grid-ийн зурааснуудаар үүсэх хүрээг зурах) зорилготой комманд бичих ёстой.

**Анхаарах зүйл:** Хэрэглэгчийн дарсан цэг хоёр ба түүнээс дээш нүдэнд харьяалагдах бол тэдгээр нүднүүдийг нэгтгэн хүрээлэх

**Ашиглах эх сурвалж:**

- ﻿[www.autodesk.co.jp/support/technical/article/caas/tsarticles/tsarticles/JPN/ts/6kRFCS0mCalWLwAOpP9pNT.html](https://www.autodesk.co.jp/support/technical/article/caas/tsarticles/tsarticles/JPN/ts/6kRFCS0mCalWLwAOpP9pNT.html)
    

![image.png](https://i.imgur.com/jzsOglK.png)

### Шийдэл

Эхэндээ яг яахаа сайн ойлгоогүй. Хэрхэн debug хийх вэ? AutoCAD яг яаж object уудаа хадгалаад байна? Тийшээ яаж нэвтрэх вэ? хэрхэн шулуун зурах вэ? зэрэг танилцаж явсаар байгаад хэдэн хоног алдсан. Яг ямар системээр зураг дүрслэгддэг гэдгийг мэдсэний дараа үндсэн код зөв BlockRefrence сонгож чадахгүй байгаа, хүрээг зурахдаа сонгож авч байгаа цэгүүдийг тодорхойлох логик хэтэрхий энгийн гэдгийг ойлгосон. Эхний ээлжинд нэг BlockRefrence дотор боловсруулалт хийх санаа төрсөн. Гэвч ерөнхий анхнаасаа ерөнхий нөхцөлийг хангах бодолт хэрэгтэй байсан.

Тийм учраас ажлаа 2 хувааж авсан.

- Дарсан цэг харьяалагдах бүх BlockRefrence дэх grid-ийн нүдийг (тэгш өнцөгт) олох (Билгүүнтүшиг)
    
- Бүх олсон grid-ийн нүдийг нэгтгэж олон өнцөгт хүрээ болгох (Мөнхтулга)
    

### Flowchart

![Figure 1](https://i.imgur.com/EgEKs21.png)

### Demo

![image.png](https://i.imgur.com/tuqQGYV.png)

![image.png](https://i.imgur.com/zrRpHlc.png)

### Ойлгож сурсан зүйлс

- Бодлогын анхны шаардлагын дагуу шийдлээ анхнаас загварчилж боловсруулах
    
- Бодлогыг сайтар задалж тооцоолж байж хөгжүүлэлтийн шат руу шилжүүлэх
    
- AutoCAD-ын Object manuplation system-ийг ойлгосон
    
- Raycasting algorithm сурсан
    
- Геометрийн хичээл хэр чухалыг ойлгосон
    
- Бидний ашигладаг зураг, дизайны програмууд ид шидээр биш маш нарийн математик суурьтай алгоритм системээр ажилдаг гэдгийг олж мэдсэн
    

## Susano Internship week4

### Даалгавар

Хамгийн сүүлчийн даалгавар нь **Autodesk Platform Services (APS)** ашиглан autocad file upload хийн түүн дээр харж, түүн дээр үйлдэл хийх энгийн web хийх

**Ашиглах эх сурвалж:**

- ﻿[www.autodesk.co.jp/support/technical/article/caas/tsarticles/tsarticles/JPN/ts/6kRFCS0mCalWLwAOpP9pNT.html](https://www.autodesk.co.jp/support/technical/article/caas/tsarticles/tsarticles/JPN/ts/6kRFCS0mCalWLwAOpP9pNT.html)
    

### Шийдэл

Даалгаврын нөхцөлд заагдсан эх сурвалжийн дагуу хийн онолийг судлан хэрэглэсэн бөгөөд хийх явцад бага зэрэг асуудлууд гарж эхэлсэн тухайлбал upload хийж чадсан ч тухайн file-ийг зөвхөн zip file байдлаар bucked -руу илгээх , upload хийх үеийн алдаа , frameworkе ийн зөрүүгээс үүсэх crash мэт алдаа гарсан . Одоогийн байдлаар **Autodesk Platform Services (APS)** ашиглан дараах алхмууд хүртэл хийсэн:

1. **APS App бүртгэл:** APS (хуучнаар Forge)-ийн developer порталд бүртгүүлж, `client_id` болон `client_secret` үүсгэв.
    
2. **Authentication:** OAuth 2.0 ашиглан APS server-оос `access_token` авсан.
    
3. **Файл upload:** AutoCAD (.dwg) файлыг APS-ийн Bucket руу upload хийв (`Data Management API` ашиглан).
    
4. **Model Derivative API ашиглан хөрвүүлэлт:** Upload хийсэн файлыг веб-д үзүүлэх боломжтой формат (SVF) руу хөрвүүлж, URN авсан.
    
5. **Viewer ашиглалт:** Autodesk Viewer API-г ашиглан URN дээр тулгуурлан CAD моделийг веб хуудсан дээр харагддаг болгосон. Viewer-ийн үндсэн үйлдлүүд:
    
    - Загварыг эргүүлэх, томруулах
        
    - Объект сонгох
        
    - Metadata харах
        

### Demo

![image.png](https://i.imgur.com/AvYsbgv.png)

![image.png](https://i.imgur.com/tWpMYD0.png)

![image.png](https://i.imgur.com/f0grb5R.png)
